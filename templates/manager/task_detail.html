{#{% extends "base.html" %}#}
{##}
{#{% block content %}#}
{#  <h1>#}
{#    Task: {{ task.name }}#}
{#    <a href="{% url 'manager:task-delete' pk=task.id %}" class="btn btn-danger link-to-page">#}
{#      Delete Task#}
{#    </a>#}
{##}
{#    <a href="{% url 'manager:task-update' pk=task.id %}" class="btn btn-secondary link-to-page">#}
{#      Update task info#}
{#    </a>#}
{#  </h1>#}
{##}
{#  <div class="row">#}
{#    <div class="col-md-6">#}
{#      <p><strong>Name:</strong> {{ task.name }}</p>#}
{#      <p><strong>Description:</strong> {{ task.description }}</p>#}
{#      <p><strong>Task type:</strong> {{ task.task_type }}</p>#}
{#      <p><strong>Status:</strong> {% if task.is_completed == False %}In progress{% else %}DONE!{% endif %}</p>#}
{#      {% if task.is_completed == False %}#}
{#        <form action="{% url 'manager:task-complete' task.pk %}" method="post">#}
{#          {% csrf_token %}#}
{#          <button type="submit" class="btn" style="background-color: green; color: white;">Mark as completed</button>#}
{#        </form>#}
{#      {% else %}#}
{#        <form action="{% url 'manager:task-reject' task.pk %}" method="post">#}
{#          {% csrf_token %}#}
{#          <button type="submit" class="btn" style="background-color: red; color: white;">Reject</button>#}
{#        </form>#}
{#      {% endif %}#}
{#    </div>#}
{#    <div class="col-md-6">#}
{#      <h4>Workers with this task</h4>#}
{#      {% for worker in task.assignees.all %}#}
{#        <hr>#}
{#        <p><strong>Name:</strong><a#}
{#            href="{{ worker.get_absolute_url }}"> {{ worker.first_name }} {{ worker.last_name }}</a></p>#}
{#        <p><strong>Position:</strong> {{ worker.position }}</p>#}
{#      {% empty %}#}
{#        <p>No tasks!</p>#}
{#      {% endfor %}#}
{#    </div>#}
{#  </div>#}
{#{% endblock %}#}


{% extends "base.html" %}

{% block content %}
  <div class="container">
    <div class="row justify-content-center mt-5">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header">
            <h1 class="text-center">Task: {{ task.name }}</h1>
          </div>
          <div class="card-body">
            <div class="task-info">
              <p><strong>Name:</strong> {{ task.name }}</p>
              <p><strong>Description:</strong> {{ task.description }}</p>
              <p><strong>Task type:</strong> {{ task.task_type }}</p>
              <p><strong>Status:</strong> {% if task.is_completed %}DONE!{% else %}In progress{% endif %}</p>
              {% if not task.is_completed %}
                <form action="{% url 'manager:task-complete' task.pk %}" method="post">
                  {% csrf_token %}
                  <button type="submit" class="btn btn-success">Mark as completed</button>
                </form>
              {% else %}
                <form action="{% url 'manager:task-reject' task.pk %}" method="post">
                  {% csrf_token %}
                  <button type="submit" class="btn btn-danger">Reject</button>
                </form>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row justify-content-center mt-4">
      <div class="col-md-8">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title text-center">Workers assigned to this task</h4>
            {% for worker in task.assignees.all %}
              <hr>
              <p><strong>Name:</strong> <a href="{{ worker.get_absolute_url }}">{{ worker.first_name }} {{ worker.last_name }}</a></p>
              <p><strong>Position:</strong> {{ worker.position }}</p>
            {% empty %}
              <p class="text-center">No workers assigned.</p>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}