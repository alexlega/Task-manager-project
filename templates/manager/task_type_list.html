{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
    <h1>
      Task types list
      <a href="{% url 'manager:task-type-create' %}" class="btn btn-primary link-to-page">
        Create
      </a>
    </h1>

    <br>

    <form action="" method="get" class="form-inline">
      {{ search_form|crispy }}
      <input type="submit" value="search" class="btn btn-primary">
    </form>

    <br>


    {% if task_type_list %}
    <table class="table">
      <tr>
        <th>ID</th>
        <th>Task type</th>
        <th>Number of tasks</th>
      </tr>
    {% for task_type in task_type_list %}
      <tr>
        <td><a href="{% url "manager:task-type-detail" pk=task_type.id %} ">{{ task_type.id }}</a></td>
        <td>{{ task_type.name }}</td>
        <td>{{ task_type.tasks.count }}</td>
      </tr>
    {% endfor %}

    </table>
    {% else %}
      <p>There are no workers in the task manager.</p>
    {% endif %}

{% endblock %}